# üîß Scripts - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã

–ö–æ–ª–ª–µ–∫—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º ED Analytics.

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤](#-—Å–ø–∏—Å–æ–∫-—Å–∫—Ä–∏–ø—Ç–æ–≤)
  - [üöÄ –î–µ–ø–ª–æ–π –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#-–¥–µ–ø–ª–æ–π-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
  - [üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏-–∏-–¥–∞–Ω–Ω—ã–º–∏)
  - [üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
  - [üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#Ô∏è-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
- [‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [üìö –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#-—Ç–∏–ø–∏—á–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [üÜò Troubleshooting](#-troubleshooting)
- [‚úÖ Best Practices](#-best-practices)
- [üìù –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞](#-–∫—Ä–∞—Ç–∫–∞—è-—Å–ø—Ä–∞–≤–∫–∞)

## üóÇÔ∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `deploy.sh` | –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–±—ã—Å—Ç—Ä—ã–π –∏–ª–∏ –ø–æ–ª–Ω—ã–π) |
| `upload-env.sh` | –ó–∞–≥—Ä—É–∑–∫–∞ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| `create-remote-user.sh` | –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| `start-front-local.sh` | –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –ª–æ–∫–∞–ª—å–Ω–æ |
| `restore-neo4j.sh` | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Neo4j –∏–∑ –¥–∞–º–ø–∞ |

---

## üìã –°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤

### üöÄ –î–µ–ø–ª–æ–π –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### `deploy.sh`
–ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∂–∏–º–∞.

```bash
# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à Docker)
./scripts/deploy.sh

# –° –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π (–±–µ–∑ –∫—ç—à–∞)
FULL_REBUILD=true ./scripts/deploy.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ scp
- –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã (—Å –∫—ç—à–µ–º –∏–ª–∏ –±–µ–∑)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ production —Ä–µ–∂–∏–º–µ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
- ‚ö° –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à Docker –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
- üì¶ –ö–æ–ø–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ scp
- üîÑ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã —Å –Ω—É–ª—è

#### `upload-env.sh`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

```bash
./scripts/upload-env.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. üì§ –ö–æ–ø–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π `.env` —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ scp
2. üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. üöÄ –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. üìä –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`
- –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ (JWT, API –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏)
- –ë–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–¥–µ–ø–ª–æ—è –∫–æ–¥–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –õ–æ–∫–∞–ª—å–Ω—ã–π `.env` —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

### üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏

#### `create-remote-user.sh`
–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã).

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–µ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏–∑ deploy.sh)
./scripts/create-remote-user.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
./scripts/create-remote-user.sh root@other-server.com

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export REMOTE_HOST=root@your-server.com
export SSH_KEY=~/.ssh/id_rsa
export REMOTE_PROJECT_PATH=/path/to/project
./scripts/create-remote-user.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. üîê –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
2. üîë –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç bcrypt —Ö–µ—à –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ Node.js –≤ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
3. üêò –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–ø—Ä—è–º—É—é –≤ PostgreSQL —á–µ—Ä–µ–∑ SQL
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–≤–æ–¥–∏—Ç —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–°–æ–∑–¥–∞–≤–∞–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- üë§ –õ–æ–≥–∏–Ω: `testuser`
- üîë –ü–∞—Ä–æ–ª—å: `password123`
- üé≠ –†–æ–ª—å: `user`

**–ö—Ä–µ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏–∑ deploy.sh):**
- –°–µ—Ä–≤–µ—Ä: `appuser@130.193.46.4`
- SSH –∫–ª—é—á: `~/.ssh/llm-cpu/appuser-ed25519`
- –ü—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞: `ed_analytics`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–∫–ª—é—á–∏)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ bash –±–µ–∑ TypeScript —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç `$` –≤ bcrypt —Ö–µ—à–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `bcrypt.hashSync()` —Å 10 —Ä–∞—É–Ω–¥–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

#### –°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è Telegram Bot

–°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é `03_add_telegram_chat_id.sql`:

- **ID:** `-1`
- **Username:** `telegram_bot`
- **–†–æ–ª—å:** `system`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ Telegram –±–æ—Ç–∞

–ú–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

### üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

#### `start-front-local.sh`
–ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ frontend –≤ dev —Ä–µ–∂–∏–º–µ (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É API).

```bash
./scripts/start-front-local.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä—Å–∏—é Node.js (—Ç—Ä–µ–±—É–µ—Ç—Å—è v18+)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- –°–æ–∑–¥–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç `.env` —Ñ–∞–π–ª —Å URL —Ä–µ–∞–ª—å–Ω–æ–≥–æ API
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot-reload

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ production API: `http://130.193.46.4:5000`
- Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: `http://localhost:3000`
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å API URL –≤ —Ñ–∞–π–ª–µ `frontend/.env`

---

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### `restore-neo4j.sh`
–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Neo4j –∏–∑ –¥–∞–º–ø–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

```bash
# –° –¥–∞–º–ø–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (neo4j.dump)
./scripts/restore-neo4j.sh

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ñ–∞–π–ª–∞ –¥–∞–º–ø–∞
./scripts/restore-neo4j.sh 130.193.46.4 my-dump.dump
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ö–æ–ø–∏—Ä—É–µ—Ç –¥–∞–º–ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ scp
2. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Neo4j –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
3. –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–º–ø —á–µ—Ä–µ–∑ `neo4j-admin database load`
5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Neo4j

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `SERVER_IP` - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 130.193.46.4)
- `DUMP_FILE` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–º–ø–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: neo4j.dump)
- `SSH_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: appuser)
- `SSH_KEY` - –ø—É—Ç—å –∫ SSH –∫–ª—é—á—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ~/.ssh/llm-cpu/appuser-ed25519)

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `.env` —Ñ–∞–π–ª–∞ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
```bash
cp .env.example .env
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ–ø–ª–æ—è –≤ `.env`:
```bash
# Deployment Configuration
SERVER_IP=130.193.46.4
SERVER_USER=appuser
SSH_KEY=~/.ssh/llm-cpu/appuser-ed25519
PROJECT_DIR=ed_analytics
```

3. –¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - `deploy.sh`
   - `upload-env.sh`
   - `restore-neo4j.sh`
   - `create-remote-user.sh`
   - `start-front-local.sh`

### –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —É–∫–∞–∑–∞–Ω—ã –≤ `.env`, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
SERVER_IP="130.193.46.4"
SERVER_USER="appuser"
SSH_KEY="~/.ssh/llm-cpu/appuser-ed25519"
PROJECT_DIR="ed_analytics"
```

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
SERVER_IP=192.168.1.100 ./scripts/deploy.sh
```

---

## üìö –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –ª–æ–∫–∞–ª—å–Ω–æ
cp .env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É—é
scp -i ~/.ssh/llm-cpu/appuser-ed25519 .env appuser@130.193.46.4:~/ed_analytics/

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π —Å –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
FULL_REBUILD=true ./scripts/deploy.sh

# 4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
./scripts/create-remote-user.sh

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∏ –ª–æ–≥–∏
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml ps
  docker compose -f docker-compose.prod.yml logs --tail=50
"
```

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫—ç—à–∞)
./scripts/deploy.sh

# –° –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π Docker –æ–±—Ä–∞–∑–æ–≤
FULL_REBUILD=true ./scripts/deploy.sh
```

### 3Ô∏è‚É£ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ frontend

```bash
# –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É API
./scripts/start-front-local.sh

# –§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ http://130.193.46.4:5000
```

### 4Ô∏è‚É£ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ—Å—å —Å—Ç–µ–∫ —á–µ—Ä–µ–∑ Docker
docker-compose up -d

# 2. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ backend
# –°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å telegram_bot —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∏ –ª–æ–≥–∏
docker-compose ps
docker-compose logs -f backend

# 4. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º
# Frontend: http://localhost:3000
# Backend: http://localhost:5000
# Brama: http://localhost:5001
```

### 5Ô∏è‚É£ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml ps
"

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml logs --tail=100 backend
"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "cat ~/ed_analytics/.env | head -10"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml restart backend
"
```

### 6Ô∏è‚É£ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Neo4j –∏–∑ –¥–∞–º–ø–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª –¥–∞–º–ø–∞ –ª–æ–∫–∞–ª—å–Ω–æ
ls -lh neo4j.dump

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/restore-neo4j.sh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Neo4j —Ä–∞–±–æ—Ç–∞–µ—Ç
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  curl -s http://localhost:7474 && echo 'Neo4j –¥–æ—Å—Ç—É–ø–µ–Ω'
"
```

---

## üÜò Troubleshooting

### –°–∫—Ä–∏–ø—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π
chmod +x scripts/deploy.sh
chmod +x scripts/create-remote-user.sh
chmod +x scripts/restore-neo4j.sh
chmod +x scripts/start-front-local.sh
```

### SSH –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –∫–ª—é—á—É
ls -la ~/.ssh/llm-cpu/appuser-ed25519

# –ï—Å–ª–∏ –∫–ª—é—á –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö
# –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫—Ä–µ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
nano scripts/deploy.sh
nano scripts/create-remote-user.sh
nano scripts/restore-neo4j.sh
```

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ .env —Ñ–∞–π–ª–∞ –ª–æ–∫–∞–ª—å–Ω–æ
ls -la .env

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä –µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç
scp -i ~/.ssh/llm-cpu/appuser-ed25519 .env appuser@130.193.46.4:~/ed_analytics/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml logs --tail=100
"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
  cd ed_analytics
  docker compose -f docker-compose.prod.yml down -v
  docker compose -f docker-compose.prod.yml up -d
"
```

### –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –ë–î

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "docker exec ed_analytics_postgres_prod psql -U ed_user -d ed_analytics -c 'SELECT id, username, role, created_at FROM users;'"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ö–µ—à –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "docker exec ed_analytics_postgres_prod psql -U ed_user -d ed_analytics -c \"SELECT username, LEFT(password_hash, 30) as hash_preview FROM users WHERE username = 'testuser';\""

# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "docker exec ed_analytics_postgres_prod psql -U ed_user -d ed_analytics -c \"DELETE FROM users WHERE username = 'testuser';\""

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ö–µ—à –ø–∞—Ä–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "docker exec ed_analytics_backend_prod node -e \"
const bcrypt = require('bcrypt');
bcrypt.compare('password123', 'HASH_FROM_DB').then(result => {
  console.log('–ü–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:', result ? '–î–ê' : '–ù–ï–¢');
});
\""
```

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ì–ª–∞–≤–Ω—ã–π README](../README.md) - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [.env.example](../.env.example) - –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [Backend README](../backend/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Backend (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [Brama README](../brama/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Brama
- [Telegram Bot README](../telegram-bot/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram Bot

---

## ‚úÖ Best Practices

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ .env –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.example` –∫–∞–∫ —à–∞–±–ª–æ–Ω
   
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ deploy.sh –¥–ª—è –¥–µ–ø–ª–æ—è**
   - –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): `./scripts/deploy.sh`
   - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞: `FULL_REBUILD=true ./scripts/deploy.sh`
   
3. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**
   - `./scripts/create-remote-user.sh`
   - –õ–æ–≥–∏–Ω: `testuser`, –ü–∞—Ä–æ–ª—å: `password123`
   
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
   ```bash
   ssh -i ~/.ssh/llm-cpu/appuser-ed25519 appuser@130.193.46.4 "
     cd ed_analytics
     docker compose -f docker-compose.prod.yml logs -f
   "
   ```
   
5. **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**
   - –û—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è Neo4j –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `neo4j-admin database dump`
   
6. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
   - –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `telegram_bot` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üìù –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

```bash
# –î–µ–ø–ª–æ–π
./scripts/deploy.sh                          # –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
FULL_REBUILD=true ./scripts/deploy.sh        # –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
./scripts/upload-env.sh                      # –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
./scripts/create-remote-user.sh              # –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
./scripts/start-front-local.sh               # –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
docker-compose up -d                         # –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
./scripts/restore-neo4j.sh                   # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ Neo4j

# –õ–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
ssh appuser@130.193.46.4 "cd ed_analytics && docker compose -f docker-compose.prod.yml logs -f"
```

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `ssh appuser@130.193.46.4 "cd ed_analytics && docker compose -f docker-compose.prod.yml ps"` üîç

