# Dashboard Configuration Documentation

## Обзор

Файл `dashboardExample.json` содержит конфигурацию для кастомизируемого dashboard с поддержкой различных типов графиков. Этот файл позволяет динамически создавать dashboard с различными визуализациями данных без изменения кода.

## Структура файла

### Основные разделы

```json
{
  "dashboard": {
    "title": "...",
    "description": "...",
    "charts": [ ... ]
  }
}
```

## Dashboard Configuration

### Основные свойства

| Свойство | Тип | Описание |
|----------|-----|----------|
| `title` | string | Заголовок dashboard |
| `description` | string | Описание dashboard |
| `charts` | array | Массив конфигураций графиков |

## Типы графиков

Все графики поддерживают **временную навигацию** - данные организованы по годам с возможностью переключения между ними.

### 1. Exponential Chart (`exponential`)

**Описание**: Линейный график экспоненциальной функции с поддержкой выбора года.

**Структура данных**:
```json
{
  "type": "exponential",
  "title": "График экспоненциальной функции",
  "data": {
    "years": [
      {
        "year": 2021,
        "points": [
          {"x": 0, "y": 1.2},
          {"x": 0.13, "y": 1.4},
          {"x": 0.25, "y": 1.8}
        ]
      },
      {
        "year": 2022,
        "points": [
          {"x": 0, "y": 1.5},
          {"x": 0.13, "y": 1.7},
          {"x": 0.25, "y": 2.2}
        ]
      }
    ]
  }
}
```

**Поля данных**:
- `years` - массив данных по годам
- `year` - год данных
- `points` - массив точек графика
- `x` - координата X
- `y` - координата Y

### 2. Federal Shares Chart (`federal_shares`)

**Описание**: Горизонтальная столбчатая диаграмма с накоплением для отображения федеральных долей.

**Структура данных**:
```json
{
  "type": "federal_shares",
  "title": "Федеральные доли по годам",
  "data": {
    "title": "Federal Shares by Year",
    "years": [2018, 2019, 2020],
    "maxPercentage": 100,
    "indexes": [
      {
        "index": "d1",
        "values": {
          "2018": 18.5,
          "2019": 12.3,
          "2020": 8.7
        }
      }
    ]
  }
}
```

**Поля данных**:
- `title` - заголовок диаграммы
- `years` - массив годов для отображения
- `maxPercentage` - максимальное значение (обычно 100)
- `indexes` - массив индексов d1-d10
- `index` - название индекса
- `values` - значения по годам в процентах

### 3. Histogram Chart (`histogram`)

**Описание**: Гистограмма для отображения распределения данных с поддержкой выбора года.

**Структура данных**:
```json
{
  "type": "histogram",
  "title": "Гистограмма нормального распределения",
  "data": {
    "years": [
      {
        "year": 2021,
        "bins": [
          {"value": -2.5, "frequency": 5},
          {"value": -2.0, "frequency": 12},
          {"value": -1.5, "frequency": 28}
        ]
      },
      {
        "year": 2022,
        "bins": [
          {"value": -2.5, "frequency": 8},
          {"value": -2.0, "frequency": 15},
          {"value": -1.5, "frequency": 32}
        ]
      }
    ]
  }
}
```

**Поля данных**:
- `years` - массив данных по годам
- `year` - год данных
- `bins` - массив столбцов гистограммы
- `value` - значение столбца
- `frequency` - частота (высота столбца)

### 4. Radar Chart (`radar`)

**Описание**: Радиальная диаграмма для сравнения многомерных данных по регионам с навигацией по годам.

**Структура данных**:
```json
{
  "type": "radar",
  "title": "Региональные показатели",
  "data": {
    "years": [
      {
        "year": 2021,
        "axes": ["d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "d10"],
        "maxValue": 1.0,
        "regions": [
          {
            "regionCode": "RU-CR",
            "values": [0.8, 0.6, 0.7, 0.9, 0.5, 0.4, 0.6, 0.8, 0.7, 0.9]
          }
        ]
      }
    ]
  }
}
```

**Поля данных**:
- `years` - массив данных по годам
- `year` - год данных
- `axes` - названия индексов (d1-d10)
- `maxValue` - максимальное значение для нормализации
- `regions` - массив регионов
- `regionCode` - код региона (ISO)
- `values` - значения по индексам

### 5. Russia Interactive Map (`russia_map`)

**Описание**: Интерактивная карта России с отображением данных по регионам с поддержкой выбора года.

**Структура данных**:
```json
{
  "type": "russia_map",
  "title": "Интерактивная карта России",
  "data": {
    "years": [
      {
        "year": 2021,
        "regions": [
          {
            "regionCode": "RU-MOW",
            "value": 15.2
          }
        ]
      },
      {
        "year": 2022,
        "regions": [
          {
            "regionCode": "RU-MOW",
            "value": 16.8
          }
        ]
      }
    ]
  }
}
```

**Поля данных**:
- `years` - массив данных по годам
- `year` - год данных
- `regions` - массив регионов
- `regionCode` - код региона (ISO)
- `value` - значение для отображения

## Временная навигация

Все графики поддерживают навигацию по годам.

### Структура временных данных:
```json
{
  "data": {
    "years": [
      {
        "year": 2021,
        // данные для 2021 года
      },
      {
        "year": 2022,
        // данные для 2022 года
      }
    ]
  }
}
```

## Коды регионов России

Используются стандартные ISO коды регионов:
- `RU-MOW` - Москва
- `RU-SPE` - Санкт-Петербург
- `RU-CR` - Крым
- `RU-SA` - Саха (Якутия)
- `RU-KGN` - Курганская область
- `RU-NEN` - Ненецкий автономный округ
- `RU-KDA` - Краснодарский край

## Валидация данных

При использовании конфигурации убедитесь, что:

1. **Структура данных корректна**:
   - Все графики (кроме карты) имеют структуру `years`
   - Каждый год содержит правильные поля данных
   - Коды регионов соответствуют ISO стандарту

2. **Данные валидны**:
   - Числовые значения находятся в допустимых диапазонах
   - Массивы `values` в radar chart содержат 10 элементов (d1-d10)
   - Координаты в exponential chart корректны

3. **Временные данные**:
   - Годы указаны как числа (2021, 2022, и т.д.)
   - Данные для каждого года полные и корректные

## Версионность

Текущая версия конфигурации: **2.0.0**

### Изменения в версии 2.0.0:
- Добавлена поддержка временной навигации для всех графиков
- Упрощена структура данных (удалены избыточные поля)
- Унифицирована структура `years` для всех временных графиков
- Улучшена документация с примерами

### Совместимость:
- Версия 2.0.0 не совместима с версией 1.0.0
- Требуется миграция данных при обновлении